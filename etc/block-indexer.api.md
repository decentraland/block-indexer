## API Report File for "@dcl/block-indexer"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { ILoggerComponent } from '@well-known-components/interfaces';
import { IMetricsComponent } from '@well-known-components/interfaces';

// @public
export type AvlTree<K, V> = {
    root(): Node_2<K, V> | null;
    size(): number;
    isEmpty(): boolean;
    insert(key: K, value: V): void;
    remove(key: K): void;
    get(key: K): V | undefined | null;
    findByValue(value: Partial<V>): V | undefined | null;
    findEnclosingRange(key: K): Range_2<K>;
    contains(key: K): boolean;
};

// @public (undocumented)
export type BlockInfo = {
    block: number;
    timestamp: number;
};

// @public (undocumented)
export type BlockRepository = {
    findBlock(block: number): Promise<BlockInfo>;
    currentBlock(): Promise<BlockInfo>;
};

// @public (undocumented)
export type BlockRepositoryComponents = {
    metrics: IMetricsComponent<keyof typeof metricsDefinitions>;
    logs: ILoggerComponent;
    ethereumProvider: EthereumProvider;
};

// @public (undocumented)
export type BlockSearch = {
    tree: AvlTree<number, BlockInfo>;
    findBlockForTimestamp(ts: number): Promise<BlockInfo | undefined>;
};

// @public (undocumented)
export type BlockSearchComponents = {
    metrics: IMetricsComponent<keyof typeof metricsDefinitions>;
    logs: ILoggerComponent;
    blockRepository: BlockRepository;
};

// @public (undocumented)
export type CompareFunction<K> = (a: K, b: K) => number;

// @public (undocumented)
export const createAvlBlockSearch: ({ metrics, logs, blockRepository }: BlockSearchComponents) => BlockSearch;

// @public (undocumented)
export const createBlockRepository: ({ ethereumProvider, logs, metrics, }: BlockRepositoryComponents) => BlockRepository;

// @public (undocumented)
export const createCachingEthereumProvider: (eth: EthereumProvider) => EthereumProvider;

// @public (undocumented)
export type EthereumProvider = {
    getBlockNumber(): Promise<number>;
    getBlock(block: number): Promise<{
        timestamp: string | number;
    }>;
};

// @public (undocumented)
export function loadTree<K, V>(tree: AvlTree<K, V>, file: string, converter: (row: any[]) => {
    key: K;
    value: V;
}): Promise<void>;

// @public (undocumented)
export const metricsDefinitions: {
    block_indexer_misses: {
        help: string;
        type: "counter";
    };
    block_indexer_hits: {
        help: string;
        type: "counter";
    };
    block_indexer_rpc_requests: {
        help: string;
        type: "counter";
    };
};

// @public (undocumented)
export type PartialCompareFunction<V> = (a: Partial<V>, b: Partial<V>) => number;

// @public (undocumented)
type Range_2<T> = {
    min: T | undefined;
    max: T | undefined;
};
export { Range_2 as Range }

// @public (undocumented)
export function saveTree<K, V>(tree: AvlTree<K, V>, file: string, converter: (k: K, v: V) => any[]): Promise<void>;

// Warnings were encountered during analysis:
//
// src/avl-tree/types.ts:27:3 - (ae-forgotten-export) The symbol "Node_2" needs to be exported by the entry point index.d.ts

// (No @packageDocumentation comment for this package)

```
